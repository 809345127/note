![](登录鉴权.assets/2023-04-09-16-39-07-image.png)

## 流程说明

**Client 端（上方方框内容）**

1.生成token。
SHA(http://www.xzg.com/user?id=123&appid=abc&pwd=def123&ts=1561523435)

2.生成新URL。
http://www.xzg.com/user?id=123&appid=abc&token=xxx&ts=1561523435

**访问 Server 端**

**Server 端（下方方框内容）**

3.解析出URL、AppID、token、ts。

4.验证token是否失效。失效则拒绝访问；否则，执行5。

5.从数据库中根据AppID取出pwd。

6.生成server端token_s。

7.token == token_s，允许访问；
token != token_s，拒绝访问。